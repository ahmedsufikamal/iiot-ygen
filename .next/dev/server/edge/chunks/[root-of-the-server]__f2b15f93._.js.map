{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 16, "column": 0}, "map": {"version":3,"sources":["turbopack:///[project]/middleware.ts"],"sourcesContent":["import type { NextRequest } from 'next/server';\nimport { NextResponse } from 'next/server';\nexport function middleware(req: NextRequest) {\n  const isAuthed = req.cookies.get('demo_auth')?.value === '1';\n  const { pathname, searchParams } = req.nextUrl;\n  const protectedRoots = ['/dashboard','/devices','/equipment','/sim','/assets','/connections','/explore','/administration','/tenants','/alerting','/reports','/settings'];\n  const isProtected = protectedRoots.some(p => pathname === p || pathname.startsWith(p + '/'));\n  if (isProtected && !isAuthed) {\n    const url = req.nextUrl.clone(); url.pathname = '/login';\n    url.searchParams.set('next', pathname + (searchParams.toString() ? `?${searchParams.toString()}` : ''));\n    return NextResponse.redirect(url);\n  }\n  if ((pathname === '/login' || /^\\/t\\/[^/]+\\/login$/.test(pathname)) && isAuthed) {\n    const url = req.nextUrl.clone(); url.pathname = '/dashboard'; return NextResponse.redirect(url);\n  }\n  return NextResponse.next();\n}\nexport const config = { matcher: ['/dashboard/:path*','/devices/:path*','/equipment/:path*','/sim/:path*','/assets/:path*','/connections/:path*','/explore/:path*','/administration/:path*','/tenants/:path*','/alerting/:path*','/reports/:path*','/settings/:path*','/login','/t/:path*/login'] };\n"],"names":[],"mappings":";;;;;;AACA;AAAA;;AACO,SAAS,WAAW,GAAgB;IACzC,MAAM,WAAW,IAAI,OAAO,CAAC,GAAG,CAAC,cAAc,UAAU;IACzD,MAAM,EAAE,QAAQ,EAAE,YAAY,EAAE,GAAG,IAAI,OAAO;IAC9C,MAAM,iBAAiB;QAAC;QAAa;QAAW;QAAa;QAAO;QAAU;QAAe;QAAW;QAAkB;QAAW;QAAY;QAAW;KAAY;IACxK,MAAM,cAAc,eAAe,IAAI,CAAC,CAAA,IAAK,aAAa,KAAK,SAAS,UAAU,CAAC,IAAI;IACvF,IAAI,eAAe,CAAC,UAAU;QAC5B,MAAM,MAAM,IAAI,OAAO,CAAC,KAAK;QAAI,IAAI,QAAQ,GAAG;QAChD,IAAI,YAAY,CAAC,GAAG,CAAC,QAAQ,WAAW,CAAC,aAAa,QAAQ,KAAK,CAAC,CAAC,EAAE,aAAa,QAAQ,IAAI,GAAG,EAAE;QACrG,OAAO,gMAAY,CAAC,QAAQ,CAAC;IAC/B;IACA,IAAI,CAAC,aAAa,YAAY,sBAAsB,IAAI,CAAC,SAAS,KAAK,UAAU;QAC/E,MAAM,MAAM,IAAI,OAAO,CAAC,KAAK;QAAI,IAAI,QAAQ,GAAG;QAAc,OAAO,gMAAY,CAAC,QAAQ,CAAC;IAC7F;IACA,OAAO,gMAAY,CAAC,IAAI;AAC1B;AACO,MAAM,SAAS;IAAE,SAAS;QAAC;QAAoB;QAAkB;QAAoB;QAAc;QAAiB;QAAsB;QAAkB;QAAyB;QAAkB;QAAmB;QAAkB;QAAmB;QAAS;KAAkB;AAAC"}}]
}