{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///Users/sufi-mac-pro/Documents/2.%20Other%20Drive/0000.%20WebDesign/iiot-ygen/app/%28shell%29/assets/page.tsx"],"sourcesContent":["'use client';\nimport { useEffect, useState } from 'react';\nimport Link from 'next/link';\nimport { Device } from '@/lib/types';\nconst HOSPITALS = [\n  { id:'H1', name:'Sylhet Medical College Hospital' },\n  { id:'H2', name:'Chittagong General Hospital' },\n  { id:'H3', name:'Dhaka Central Hospital' },\n  { id:'H4', name:'Rajshahi Medical College Hospital' },\n  { id:'H5', name:'Khulna Medical College Hospital' },\n];\nexport default function AssetsPage(){\n  const [rows,setRows]=useState<Device[]>([]);\n  const [loading,setLoading]=useState(true);\n  const [open,setOpen]=useState(false);\n  const [name,setName]=useState(''); const [type,setType]=useState('Ventilator'); const [model,setModel]=useState('Model-X'); const [hospitalId,setHospitalId]=useState('H1');\n  async function load(){ setLoading(true); const r=await fetch('/api/assets',{cache:'no-store'}); const j=await r.json(); setRows(j.devices||[]); setLoading(false); }\n  useEffect(()=>{ load(); },[]);\n  async function addDevice(){ const r=await fetch('/api/assets',{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify({name:name||type,equipmentType:type,hospitalId,model})}); if(r.ok){ setOpen(false); setName(''); load(); } }\n  async function removeDevice(id:string){ if(!confirm('Delete this device?')) return; const r=await fetch('/api/assets?id='+encodeURIComponent(id),{method:'DELETE'}); if(r.ok) load(); }\n  return (<div className=\"card\">\n    <div className=\"row\" style={{justifyContent:'space-between'}}>\n      <h2 style={{marginTop:0}}>Assets</h2>\n      <div className=\"row\"><a className=\"btn\" href=\"/settings\">Settings</a><button className=\"btn btn-primary\" onClick={()=>setOpen(true)}>Add Asset</button></div>\n    </div>\n    {loading ? 'Loadingâ€¦' : (\n      <table className=\"table\">\n        <thead><tr><th>ID</th><th>Name</th><th>Type</th><th>Hospital</th><th>Status</th><th></th></tr></thead>\n        <tbody>\n          {rows.map(d=>(\n            <tr key={d.id}>\n              <td>{d.id}</td>\n              <td>{d.name}</td>\n              <td>{d.equipmentType}</td>\n              <td>{d.hospitalName}</td>\n              <td>{d.status}</td>\n              <td className=\"row\">\n                <Link className=\"btn\" href={`/equipment/${encodeURIComponent(d.id)}`}>Open</Link>\n                <button className=\"btn\" onClick={()=>removeDevice(d.id)}>Remove</button>\n              </td>\n            </tr>\n          ))}\n        </tbody>\n      </table>\n    )}\n    {open && (<div className=\"modal-backdrop\" onClick={()=>setOpen(false)}>\n      <div className=\"modal\" onClick={e=>e.stopPropagation()}>\n        <h3 style={{marginTop:0}}>Add Asset</h3>\n        <label>Name</label>\n        <input className=\"input\" value={name} onChange={e=>setName(e.target.value)} placeholder=\"Optional; defaults to Type\"/>\n        <label>Type</label>\n        <select className=\"input\" value={type} onChange={e=>setType(e.target.value)}>\n          {['Ventilator','Oxygen Plant','Infusion Pump','ECG','X-Ray','CT','MRI'].map(t=>(<option key={t} value={t}>{t}</option>))}\n        </select>\n        <label>Model</label>\n        <input className=\"input\" value={model} onChange={e=>setModel(e.target.value)}/>\n        <label>Hospital</label>\n        <select className=\"input\" value={hospitalId} onChange={e=>setHospitalId(e.target.value)}>\n          {HOSPITALS.map(h=>(<option key={h.id} value={h.id}>{h.name}</option>))}\n        </select>\n        <div className=\"row\" style={{justifyContent:'flex-end', marginTop:12}}>\n          <button className=\"btn\" onClick={()=>setOpen(false)}>Cancel</button>\n          <button className=\"btn btn-primary\" onClick={addDevice}>Add</button>\n        </div>\n      </div>\n    </div>)}\n  </div>);\n}\n"],"names":[],"mappings":"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","debugId":null}}]
}