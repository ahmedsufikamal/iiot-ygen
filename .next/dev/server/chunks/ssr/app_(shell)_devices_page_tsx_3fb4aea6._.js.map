{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///Users/sufi-mac-pro/Documents/2.%20Other%20Drive/0000.%20WebDesign/iiot-ygen/app/%28shell%29/devices/page.tsx"],"sourcesContent":["'use client';\nimport { useEffect, useState } from 'react';\nimport { useSearchParams } from 'next/navigation';\nimport Link from 'next/link';\nimport { Device } from '@/lib/types';\n\nexport default function DevicesPage(){\n  const sp = useSearchParams();\n  const status = sp.get('status') || '';\n  const [rows, setRows] = useState<{device:Device}[]>([]);\n  const [loading, setLoading] = useState(true);\n  useEffect(()=>{\n    const params = new URLSearchParams();\n    if (status) params.set('status', status);\n    fetch(`/api/devices?${params.toString()}`, { cache:'no-store' })\n      .then(r=>r.json())\n      .then(j=> setRows(j.devices || []))\n      .finally(()=> setLoading(false));\n  }, [status]);\n  return (\n    <div className='card'>\n      <h2 style={{marginTop:0}}>Devices {status ? `— ${status}` : ''}</h2>\n      {loading ? 'Loading…' : (\n        <table className='table'>\n          <thead><tr><th>ID</th><th>Name</th><th>Hospital</th><th>Division</th><th>District</th><th>Upazila</th><th>Status</th><th></th></tr></thead>\n          <tbody>\n            {rows.map(({device}:any)=>(\n              <tr key={device.id}>\n                <td>{device.id}</td>\n                <td>{device.name}</td>\n                <td>{device.hospitalName}</td>\n                <td>{device.division}</td>\n                <td>{device.district}</td>\n                <td>{device.upazila}</td>\n                <td>{device.status}</td>\n                <td><Link className='btn' href={`/equipment/${encodeURIComponent(device.id)}`}>Open</Link></td>\n              </tr>\n            ))}\n          </tbody>\n        </table>\n      )}\n    </div>\n  );\n}\n"],"names":[],"mappings":";;;;;AACA;AACA;AACA;AAHA;;;;;AAMe,SAAS;IACtB,MAAM,KAAK,IAAA,qJAAe;IAC1B,MAAM,SAAS,GAAG,GAAG,CAAC,aAAa;IACnC,MAAM,CAAC,MAAM,QAAQ,GAAG,IAAA,iNAAQ,EAAoB,EAAE;IACtD,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,iNAAQ,EAAC;IACvC,IAAA,kNAAS,EAAC;QACR,MAAM,SAAS,IAAI;QACnB,IAAI,QAAQ,OAAO,GAAG,CAAC,UAAU;QACjC,MAAM,CAAC,aAAa,EAAE,OAAO,QAAQ,IAAI,EAAE;YAAE,OAAM;QAAW,GAC3D,IAAI,CAAC,CAAA,IAAG,EAAE,IAAI,IACd,IAAI,CAAC,CAAA,IAAI,QAAQ,EAAE,OAAO,IAAI,EAAE,GAChC,OAAO,CAAC,IAAK,WAAW;IAC7B,GAAG;QAAC;KAAO;IACX,qBACE,8OAAC;QAAI,WAAU;;0BACb,8OAAC;gBAAG,OAAO;oBAAC,WAAU;gBAAC;;oBAAG;oBAAS,SAAS,CAAC,EAAE,EAAE,QAAQ,GAAG;;;;;;;YAC3D,UAAU,2BACT,8OAAC;gBAAM,WAAU;;kCACf,8OAAC;kCAAM,cAAA,8OAAC;;8CAAG,8OAAC;8CAAG;;;;;;8CAAO,8OAAC;8CAAG;;;;;;8CAAS,8OAAC;8CAAG;;;;;;8CAAa,8OAAC;8CAAG;;;;;;8CAAa,8OAAC;8CAAG;;;;;;8CAAa,8OAAC;8CAAG;;;;;;8CAAY,8OAAC;8CAAG;;;;;;8CAAW,8OAAC;;;;;;;;;;;;;;;;kCACtH,8OAAC;kCACE,KAAK,GAAG,CAAC,CAAC,EAAC,MAAM,EAAK,iBACrB,8OAAC;;kDACC,8OAAC;kDAAI,OAAO,EAAE;;;;;;kDACd,8OAAC;kDAAI,OAAO,IAAI;;;;;;kDAChB,8OAAC;kDAAI,OAAO,YAAY;;;;;;kDACxB,8OAAC;kDAAI,OAAO,QAAQ;;;;;;kDACpB,8OAAC;kDAAI,OAAO,QAAQ;;;;;;kDACpB,8OAAC;kDAAI,OAAO,OAAO;;;;;;kDACnB,8OAAC;kDAAI,OAAO,MAAM;;;;;;kDAClB,8OAAC;kDAAG,cAAA,8OAAC,uKAAI;4CAAC,WAAU;4CAAM,MAAM,CAAC,WAAW,EAAE,mBAAmB,OAAO,EAAE,GAAG;sDAAE;;;;;;;;;;;;+BARxE,OAAO,EAAE;;;;;;;;;;;;;;;;;;;;;;AAgBhC","debugId":null}}]
}